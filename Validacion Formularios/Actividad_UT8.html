<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Form validation: Task 1</title>
    <style>
      body {
        background-color: #fff;
        color: #333;
        font: 1em / 1.4 Helvetica Neue, Helvetica, Arial, sans-serif;
        padding: 1em;
        margin: 0;
      }


      * {
        box-sizing: border-box;
      }


      input:invalid{
        border: solid 1px red;
      }
    </style>
  </head>

  

  <body>
    <form>
      <h2>Enter your support query</h2>
      <ul>
        <li>
          <label for="uname">User name:</label>
          <input type="text" name="uname" id="uname" min="3" max="20">
        </li>
        <li>
          <label for="email">Email address:</label>
          <input type="email" name="email" id="email">
        </li>
        <li>
          <label for="phone">Phone number:</label>
          <input type="number" name="phone" id="phone" pattern="[0-9]{9}" max="15">
        </li>
        <li>
          <label for="comment">Comment:</label>
          <textarea name="comment" id="comment" maxlength="200">
          </textarea>
        </li>
        <li>
          <button>Submit comment</button>
        </li>

        <!-- Numero binario de 8 digitos -->
        <li>
          <label for="binairo">Introduce un numero binario de 8 dígitos</label>
          <input type="text" pattern="[0-1]{8}" required>
        </li>
      </ul>
    </form>

    <!-- Formulario Login Red Social -->
    <h1>Formulario Login Red Social</h1>
    <form>
      <label for="nombre">Introduce tu nombre</label>
      <input type="text" pattern="[A-Za-z]{3,20}" required><br>

      
      <label for="apellido">Introduce tu apellido</label>
      <input type="text" pattern="[A-Za-z]{4,40}" min="4" max="40" required><br>

      
      <label for="usuario">Introduce tu usuario</label>
      <input type="text" pattern="[AZ-az-09]" minlength="7" maxlength="20" required><br>

      <label for="email">Introduce tu email</label>
      <input type="email" required><br>

      <label for="telefono">Introduce tu número de telefono</label>
      <input type="text" pattern="[0-9]{9}" required><br>

      <label for="fechaNacimiento">Intoduce tu fecha de nacimiento</label>
      <input type="date" id="calendario" min="2005-01-01" required><br>


      <label for="intereses">Selecciona al menos de las siguientes opciones</label><br>
      <input type="checkbox" name="x"><label>HTML</label><br>
      <input type="checkbox" name="x"><label>CSS</label><br>
      <input type="checkbox" name="x"><label>JS</label><br>
      <input type="checkbox" name="x"><label>JAVA</label><br>
      <input type="checkbox" name="x"><label>SQL</label><br>

      
      
      <!-- <label for="img">Sube una imagen</label><br>
      <input id="img" type="file" accept="image/png, .jpeg, .jpg, image/gif">
      <img src="">  -->
      
      
    </form>
    <button id="añadirImagen">Añadir imagen al final del documento</button>
    <button id="mayorEdad">Comprobar mayoria de edad</button>
    <button id="interesesMinimos" disabled>Al menos 2 opciones</button>
    <div id="pepe"></div>
    
  </body>
  



  <script type="text/javascript">
      document.getElementById("añadirImagen").addEventListener("click",añadeImagen);
      document.getElementById("mayorEdad").addEventListener("click",validaEdad);
      //document.getElementById("interesesMinimos").addEventListener("click",validaIntereses);
      //document.getElementById("comment").addEventListener("onload",()=>{document.getElementById("comment").value = ''})
      document.getElementById("comment").addEventListener("onload",()=>{document.getElementById("comment").value = ''})

      
        let cantidad = 0;
        let seleccion = document.getElementsByName('x');

        for (let i=0; i < seleccion.length; i++){
          seleccion[i].addEventListener( "change", () => {
          document.getElementById('interesesMinimos').disabled = true;
          if ( seleccion[i].checked == true ){
            cantidad ++;
          }else {
            cantidad --;
          }
            if (cantidad >= 2){document.getElementById('interesesMinimos').disabled = false;}  
          });
        }
      

      function validaEdad(){
        let fechaFormulario = document.getElementById('calendario').value;
        let fecha = new Date();
        
        let fechaActual = fecha.toISOString().split('T')[0];

        
        let fechaInicio = new Date(fechaFormulario).getTime();
        let fechaFinal = new Date(fechaActual).getTime();

        let diferencia = (fechaFinal - fechaInicio)/(1000*60*60*24);
        if (diferencia < (365*18)){
          alert("eres menor de edad");
        }
        
      }


      function añadeImagen(){
        let img = document.createElement('img');
        let srcImagen = prompt("Introduce la direccion de la imagen que quieres subir: ");
        img.src = srcImagen;
        

        let añadir = document.getElementById('pepe');
        añadir.appendChild(img);
        //https://i0.wp.com/hotbook.mx/wp-content/uploads/2019/01/fotosparis_portada.jpg?fit=1024%2C682&ssl=1
      }

  </script>

</html>