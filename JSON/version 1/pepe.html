<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AÃ±adir productor</title>
</head>
<style>
    .formulario1, .formulario2 {
        border:  solid black 1px;
    }
</style>
<body>
    <div class="formulario1">
        <form>
            <label>Introduce los datos del producto: </label><br/>
           
            <label>name</label>
            <!-- <input type="text" id="name" pattern="[A-Za-z]{}" required><br/> -->
            <input type="text" id="name" pattern="[A-Za-z]{}" required><br/>
            <label>price</label>
            <input type="text" id="price" pattern="^\d*(\.\d{0,2})?$" required><br/>
            <label>description</label>
            <input type="text" id="description" pattern="[A-Za-z]{1-250}" required><br/>
          
            <select name="categoryID" id="categoryID" required>
                <option value="1">1</option>
                <option value="2">2</option>
            </select><br/>

            <input type="submit" name="boton1"  value="Enviar">
        </form>
    </div>

    <br/>
    <br/>
    
    <div class="formulario2">
        <form>
            <label>name</label>
            <input type="text" id="name2" pattern="[AZ-az]{*}" required><br/>
            <label>description</label>
            <input type="text" id="description2" pattern="[A-Za-z]{1-250}" required><br/>
    
            <input type="submit" id="boton2">
        </form>
    </div>

</body>
<script>

document.querySelector("input[name='boton1']").addEventListener('click',()=>{
    let arrayObjetos = {
        'name': document.getElementById('name').value,
        'price': document.getElementById('price').value,
        'description': document.getElementById('description').value,
        'categoryId': document.getElementById('categoryID').value
    };

    const peticion = new XMLHttpRequest();
    peticion.open('POST', 'http://localhost:3000/products');

    peticion.setRequestHeader('Content-Type', 'application/json');

    peticion.onload = () => {
        const data = JSON.parse(peticion.response);
        console.log(data);
    };
    document.getElementById('name').
    peticion.send(JSON.stringify(arrayObjetos));
});
</script>
</html>